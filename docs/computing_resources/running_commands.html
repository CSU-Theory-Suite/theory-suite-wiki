<!DOCTYPE html>
<html class="writer-html5" lang="python" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Running Commands &mdash; csu-wiki  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Helpful Commands and Tips" href="commands_and_tips.html" />
    <link rel="prev" title="File System Layout" href="file_system_layout.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            csu-wiki
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="paton_computing_resources.html">Paton Lab Computing Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="kim_computing_resources.html">Kim Lab Computing Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="essential_unix_commands.html">Essential Unix Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="file_system_layout.html">File System Layout</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Running Commands</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#halting-and-canceling-interactive-processes">Halting and Canceling Interactive Processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-in-background-vs-foreground-and-nohup">Running in Background vs Foreground, and nohup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#listing-and-killing-jobs-running-in-background">Listing and Killing Jobs Running in Background</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="commands_and_tips.html">Helpful Commands and Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="fun_with_coworkers.html">Fun with Coworkers</a></li>
<li class="toctree-l1"><a class="reference internal" href="coding_resources.html">Coding Resources</a></li>
</ul>
<p class="caption"><span class="caption-text">Helpful Packages</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../helpful_packages/inhouse.html">In-house</a></li>
<li class="toctree-l1"><a class="reference internal" href="../helpful_packages/external.html">External</a></li>
</ul>
<p class="caption"><span class="caption-text">Graphical Software</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../graphical_software/edition_generation.html">Edition/Generation</a></li>
</ul>
<p class="caption"><span class="caption-text">Example Workflows</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../running_calculations/example_aqme_workflow/example_aqme_workflow.html">End-to-End Workflow in ACME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_calculations/example_goodvibes_workflow/example_goodvibes_workflow.html">GoodVibes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_calculations/example_reggae_workflow/example_reggae_workflow.html">REGGAE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_calculations/example_descriptors_workflow/example_descriptors_workflow.html">RDKit, Mordred, Morfeus &amp; DBStep</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_calculations/example_censo_workflow/example_censo_workflow.html">CENSO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_calculations/example_nciplot_calculation/example_nciplot_calculation.html">NCIPLOT</a></li>
</ul>
<p class="caption"><span class="caption-text">Concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../concepts/classical_molecular_dynamics/classical_molecular_dynamics.html">Classical Molecular Dynamics</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">csu-wiki</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Running Commands</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/computing_resources/running_commands.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="running-commands">
<h1>Running Commands<a class="headerlink" href="#running-commands" title="Permalink to this headline"></a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#halting-and-canceling-interactive-processes" id="id1">Halting and Canceling Interactive Processes</a></p></li>
<li><p><a class="reference internal" href="#running-in-background-vs-foreground-and-nohup" id="id2">Running in Background vs Foreground, and nohup</a></p></li>
<li><p><a class="reference internal" href="#listing-and-killing-jobs-running-in-background" id="id3">Listing and Killing Jobs Running in Background</a></p></li>
</ul>
</div>
<p>Most of the information on this page comes from Dr. Bill Miller III at Truman State University.</p>
<p>There are a couple different ways of running/executing commands
and calculations. Typically, if you are going to execute a command
straight from the command line on your local computer, then that
is called running a command (or job/calculation) interactively.
Interactive jobs run immediately after you execute them regardless
of the other processes that are occurring already on the computer
that it may or may not conflict with for the available resources.
If you run a job on a cluster (or supercomputer) you are likely
running the command through a queue where you have to share
resources with the other users and the queue scheduler
(which is a script/program itself, not a real person so don’t
try to bribe the scheduler; he doesn’t need your money)
distributes calculations to free compute nodes that have enough
available resources to run the program. This section of the
manual, though, will focus on running jobs interactively on a
local computer/workstation.</p>
<p>Scripts and calculations expected to take limited resources or
very little time can simply be run from the command line without
any real considerations. However, when calculations are expected
to take long periods of times (i.e. more than a few minutes),
I have a few suggestions that might help.</p>
<section id="halting-and-canceling-interactive-processes">
<h2><a class="toc-backref" href="#id1">Halting and Canceling Interactive Processes</a><a class="headerlink" href="#halting-and-canceling-interactive-processes" title="Permalink to this headline"></a></h2>
<p>If you are running a job interactively (i.e. the command prompt is
unresponsive will the command is running), then you can press
<code class="docutils literal notranslate"><span class="pre">ctrl+C</span></code> to cancel/kill the process at any time while it is running.
This will terminate the job from running any longer.</p>
<p>Additionally, you have the option to halt or suspend an interactive
process while it is running using <code class="docutils literal notranslate"><span class="pre">ctrl+Z</span></code>. In other words, you can
press <code class="docutils literal notranslate"><span class="pre">ctrl+Z</span></code> while a command is running and this will temporarily
suspend the process from running. It halts, but it is not killed. This
allows you to use the Terminal’s command prompt again while the job is
halted. At any point, you can continue running the job by typing <code class="docutils literal notranslate"><span class="pre">fg</span></code> to
bring the command back to the foreground.</p>
</section>
<section id="running-in-background-vs-foreground-and-nohup">
<h2><a class="toc-backref" href="#id2">Running in Background vs Foreground, and nohup</a><a class="headerlink" href="#running-in-background-vs-foreground-and-nohup" title="Permalink to this headline"></a></h2>
<p>A typical, short calculation is run in the foreground. This means when you
execute the command, the command prompt on your Terminal becomes unresponsive
until the process has completed. For long processes, I suggest running commands
in the background. This allows the job to continue running in the background
(i.e. without you knowing any difference) and for you to be able to use that
Terminal’s command prompt to do other things.</p>
<p>To run a job in the background, simply append an ampersand (&amp;) to the end of
the command. So if I were going to run a Gaussian 09 QM calculation in the
foreground, the command would simply be</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>g09 structure.com
</pre></div>
</div>
<p>But if I wanted to run that same calculation in the background, the command
would look like this</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>g09 structure.com <span class="p">&amp;</span>
</pre></div>
</div>
<p>When you press enter to run this command, a line will be printed to the screen
letting you know the job is running</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">[</span><span class="m">1</span><span class="o">]</span> g09 structure.com <span class="p">&amp;</span>
</pre></div>
</div>
<p>At this point (i.e. after this previous line is printed to the screen), if
you press enter again your cursor will be back on the command prompt and you
will be able to use your Terminal window to do more unix-y (yeah, that’s a word) things.</p>
<p>Occasionally, I accidentally execute a command without adding the ampersand at the
end when I really wanted to run the job in the background. So instead of running in
the background, the calculation is running in the foreground. In this situation, I
press <code class="docutils literal notranslate"><span class="pre">ctrl+Z</span></code> to suspend the job. This means the job is simply waiting for you to
let it know it can continue running. If you want the job to begin running in the foreground
again (as it was originally), you could type <code class="docutils literal notranslate"><span class="pre">fg</span></code> (short for foreground). But if you
are like me, and wanted to run the job in the background, simply type <code class="docutils literal notranslate"><span class="pre">bg</span></code> (short
for background; see how they did that?) and press enter on the command prompt and the
job will begin running again but now in the background (and you will get a notification
line like the one mentioned above when I explained how to run g09 in the background).</p>
<p>An extremely helpful program when running process in the background is the <code class="docutils literal notranslate"><span class="pre">nohup</span></code>
command. <code class="docutils literal notranslate"><span class="pre">nohup</span></code> can be added at the beginning of any command and essentially what
it does it ensure that your job continues running, even if you logout of your computer.
This is especially helpful if you are using a public or lb computer that others users
access, or if you are working remotely (i.e. ssh’d into another computer) because using
<code class="docutils literal notranslate"><span class="pre">nohup</span></code> means you can exit (or logout) the remote workstation and your process/command
will continue to run. I use this frequently if I am running a command remotely just in
case the connection between my computer and the remote computer is broken. If you do
not use <code class="docutils literal notranslate"><span class="pre">nohup</span></code>, when the connection is severed, your command will be terminated.
Continuing with the Gaussian 09 theme, if we wanted to initiate a g09 calculation
on a remote computer using nohup, the command would look something like this</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>nohup g09 structure.com <span class="p">&amp;</span>
</pre></div>
</div>
<p>Notice that in addition to using <code class="docutils literal notranslate"><span class="pre">nohup</span></code> at the beginning of the command, we
also made the process run in the background (using the &amp;). If you run a
command using <code class="docutils literal notranslate"><span class="pre">nohup</span></code> in the foreground, then you are defeating the purpose
of using nohup altogether since you are unable to use your Terminal’s command
prompt and when you close the Terminal window or the connection to the remote
computer is lost, your calculation would be killed.</p>
</section>
<section id="listing-and-killing-jobs-running-in-background">
<h2><a class="toc-backref" href="#id3">Listing and Killing Jobs Running in Background</a><a class="headerlink" href="#listing-and-killing-jobs-running-in-background" title="Permalink to this headline"></a></h2>
<p>I have already described to you how to run commands in the background. As long as
you are still using the same Terminal window/tab you used to execute the background
commands, you can type the command jobs to see what processes are running in the
background.</p>
<p>Two processes are distinguished by the [1] or [2] shown at the beginning of each
line. If for some reason I wanted to kill the first job (which I could do
using the kill command along with the corresponding PID number),
I could simple type</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">kill</span> %1
</pre></div>
</div>
<p>and press enter. Similarly, to kill the second job I would just type</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">kill</span> %2
</pre></div>
</div>
<p>In the event I am running a job in the background, I find using jobs
and <code class="docutils literal notranslate"><span class="pre">kill</span> <span class="pre">%</span></code> much more convenient than determining the PID
number from <code class="docutils literal notranslate"><span class="pre">top</span></code> or <code class="docutils literal notranslate"><span class="pre">ps</span></code> and using the <code class="docutils literal notranslate"><span class="pre">kill</span> <span class="pre">-9</span></code> command.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="file_system_layout.html" class="btn btn-neutral float-left" title="File System Layout" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="commands_and_tips.html" class="btn btn-neutral float-right" title="Helpful Commands and Tips" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, csu-theory-suite.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>